{"version":3,"sources":["everything.js"],"names":["gameLogic","getInitialBoard","board","i","ROWS","j","COLS","playerId","numMolecules","getInitialState","delta","isTie","getWinner","playerWon","cell","createMove","stateBeforeMove","row","col","turnIndexBeforeMove","Error","boardAfterMove","angular","copy","endMatchScores","turnIndexAfterMove","stateAfterMove","updateBoard","winner","maxMolecules","maxMol","currMoveCell","explosions","initialState","cellsExploded","boardAfterExplosions","push","delta_1","stateAfterMove_1","explosionQueueCurr","explosionQueueNext","explosion","length","currCell","splice","newCell","err","delta_2","stateAfterMove_2","checkMoveOk","stateTransition","move","deltaValue","expectedMove","equals","toJson","forSimpleTestHtml","params","numberOfPlayers","game","init","translate","setTranslations","getTranslations","setLanguage","log","resizeGameAreaService","setWidthToHeight","moveService","setGame","minNumberOfPlayers","maxNumberOfPlayers","updateUI","document","addEventListener","animationEndedCallback","w","window","setInterval","inspect","excludeRules","RULES_OF_CHAINREACTION","en","fr","RULES_CHAIN_REACTION_SLIDE1","RULES_CHAIN_REACTION_SLIDE2","RULES_CHAIN_REACTION_SLIDE3","RULES_CHAIN_REACTION_SLIDE4","CLOSE","$rootScope","$apply","info","animationEnded","sendComputerMove","isComputerTurn","makeMove","aiService","findComputerMove","state","maxRound","canMakeMove","yourPlayerIndex","playersInfo","round","intervalFuture","$interval","performNextAnimation","clearAnimationInterval","cancel","cellClicked","location","search","nextMove","e","shouldShowImage","containsMolOfPlayer","numMol","shouldSlowlyAppear","contains","cells","shouldAnimate","shouldAnimateForPlayer","moleculesMoreThanMaxMolecules","clickedOnModal","evt","target","currentTarget","preventDefault","stopPropagation","isHelpModalShown","module","run","createComputerMove","score","prevMove","newBoard","opponentCells","currBoard","bestCells","bestScore","currScore","bestCellsLength","index","getRandomInt","min","max","Math","floor","random"],"mappings":"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","file":"everything.min.js"}