{"version":3,"sources":["everything.js"],"names":["gameLogic","getInitialBoard","board","i","ROWS","j","COLS","playerId","numMolecules","getInitialState","delta","isTie","getWinner","playerWon","cell","createMove","stateBeforeMove","row","col","turnIndexBeforeMove","Error","boardAfterMove","angular","copy","endMatchScores","turnIndexAfterMove","stateAfterMove","updateBoard","winner","maxMolecules","maxMol","currMoveCell","explosions","initialState","cellsExploded","boardAfterExplosions","push","delta_1","stateAfterMove_1","explosionQueueCurr","explosionQueueNext","explosion","length","currCell","splice","newCell","err","delta_2","stateAfterMove_2","checkMoveOk","stateTransition","move","deltaValue","expectedMove","equals","toJson","forSimpleTestHtml","params","numberOfPlayers","game","init","translate","setTranslations","getTranslations","setLanguage","log","resizeGameAreaService","setWidthToHeight","moveService","setGame","minNumberOfPlayers","maxNumberOfPlayers","updateUI","w","window","setInterval","inspect","excludeRules","RULES_OF_CHAINREACTION","en","fr","RULES_CHAIN_REACTION_SLIDE1","RULES_CHAIN_REACTION_SLIDE2","RULES_CHAIN_REACTION_SLIDE3","RULES_CHAIN_REACTION_SLIDE4","CLOSE","sendComputerMove","info","isComputerTurn","makeMove","aiService","findComputerMove","animationEnded","state","clearAnimationInterval","maxRound","canMakeMove","yourPlayerIndex","playersInfo","round","intervalFuture","$interval","performNextAnimation","cancel","cellClicked","location","search","nextMove","e","shouldShowImage","containsMolOfPlayer","numMol","wasCellClicked","shouldSlowlyAppear","contains","cells","shouldAnimate","shouldAnimateForPlayer","moleculesMoreThanMaxMolecules","clickedOnModal","evt","target","currentTarget","preventDefault","stopPropagation","isHelpModalShown","module","run","$rootScope","createComputerMove","score","prevMove","newBoard","opponentCells","currBoard","bestCells","bestScore","currScore","bestCellsLength","index","getRandomInt","min","max","Math","floor","random"],"mappings":"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","file":"everything.min.js"}