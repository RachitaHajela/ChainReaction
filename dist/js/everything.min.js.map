{"version":3,"sources":["everything.js"],"names":["gameLogic","getInitialBoard","board","i","ROWS","j","COLS","playerId","numMolecules","getInitialState","delta","isTie","getWinner","playerWon","cell","createMove","stateBeforeMove","row","col","turnIndexBeforeMove","Error","boardAfterMove","angular","copy","endMatchScores","turnIndexAfterMove","stateAfterMove","updateBoard","winner","maxMolecules","maxMol","currMoveCell","explosions","initialState","cellsExploded","boardAfterExplosions","push","delta_1","stateAfterMove_1","explosionQueueCurr","explosionQueueNext","explosion","length","currCell","splice","newCell","err","delta_2","stateAfterMove_2","checkMoveOk","stateTransition","move","deltaValue","expectedMove","equals","toJson","forSimpleTestHtml","params","numberOfPlayers","game","init","translate","setTranslations","getTranslations","setLanguage","log","resizeGameAreaService","setWidthToHeight","moveService","setGame","minNumberOfPlayers","maxNumberOfPlayers","updateUI","document","addEventListener","animationEndedCallback","w","window","setInterval","inspect","excludeRules","RULES_OF_CHAINREACTION","en","fr","RULES_CHAIN_REACTION_SLIDE1","RULES_CHAIN_REACTION_SLIDE2","RULES_CHAIN_REACTION_SLIDE3","RULES_CHAIN_REACTION_SLIDE4","CLOSE","$rootScope","$apply","info","animationEnded","sendComputerMove","isComputerTurn","makeMove","aiService","findComputerMove","state","clearAnimationInterval","maxRound","canMakeMove","yourPlayerIndex","playersInfo","round","intervalFuture","$interval","performNextAnimation","cancel","cellClicked","location","search","nextMove","e","shouldShowImage","containsMolOfPlayer","numMol","wasCellClicked","shouldSlowlyAppear","contains","cells","shouldAnimate","shouldAnimateForPlayer","moleculesMoreThanMaxMolecules","clickedOnModal","evt","target","currentTarget","preventDefault","stopPropagation","isHelpModalShown","module","run","createComputerMove","score","prevMove","newBoard","opponentCells","currBoard","bestCells","bestScore","currScore","bestCellsLength","index","getRandomInt","min","max","Math","floor","random"],"mappings":"AAAA,GAAIA,YACJ,SAAWA,GAIP,QAASC,KAEL,IAAK,GADDC,MACKC,EAAI,EAAGA,EAAIH,EAAUI,KAAMD,IAAK,CACrCD,EAAMC,KACN,KAAK,GAAIE,GAAI,EAAGA,EAAIL,EAAUM,KAAMD,IAChCH,EAAMC,GAAGE,IAAOE,SAAU,GAAIC,aAAc,GAGpD,MAAON,GAEX,QAASO,KACL,OAASP,MAAOD,IAAmBS,MAAO,MAU9C,QAASC,GAAMT,GACX,OAAO,EAUX,QAASU,GAAUV,GACf,MAAIW,GAAU,EAAGX,GACN,IAEFW,EAAU,EAAGX,GACX,IAGA,GAMf,QAASW,GAAUN,EAAUL,GAEzB,IAAK,GADDM,GAAe,EACVL,EAAI,EAAGA,EAAIH,EAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,EAAUM,KAAMD,IAAK,CACrC,GAAIS,GAAOZ,EAAMC,GAAGE,EAEpB,IADAG,GAAgBM,EAAKN,aACK,IAAtBM,EAAKN,cAAsBM,EAAKP,WAAaA,EAC7C,OAAO,EAInB,MAAmB,GAAfC,GACO,GAEJ,EAMX,QAASO,GAAWC,EAAiBC,EAAKC,EAAKC,GACtCH,IACDA,EAAkBP,IAEtB,IAAIP,GAAQc,EAAgBd,KAC5B,IAAIA,EAAMe,GAAKC,GAAKX,WAAaY,GAAoD,KAA7BjB,EAAMe,GAAKC,GAAKX,SACpE,KAAM,IAAIa,OAAM,kEAEpB,IAAyB,KAArBR,EAAUV,IAAiBS,EAAMT,GACjC,KAAM,IAAIkB,OAAM,gDAEpB,IAAIC,GAAiBC,QAAQC,KAAKrB,EAElCmB,GAAeJ,GAAKC,GAAKX,SAAWY,EACpCE,EAAeJ,GAAKC,GAAKV,cACzB,IAIIgB,GACAC,EALAC,EAAiBC,EAAYV,EAAKC,EAAKG,EAAgBF,GAGvDS,EAAShB,EAAUS,EAavB,OAVe,KAAXO,GAAiBjB,EAAMU,IAEvBI,EAAqB,GACrBD,EAA4B,MAAXI,GAAkB,EAAG,GAAgB,MAAXA,GAAkB,EAAG,IAAM,EAAG,KAIzEH,EAAqB,EAAIN,EACzBK,EAAiB,OAEZA,eAAgBA,EAAgBC,mBAAoBA,EAAoBC,eAAgBA,GAGrG,QAASG,GAAaZ,EAAKC,GACvB,GAAIY,GAAS,CAOb,QANW,GAAPb,GAAYA,GAAOjB,EAAUI,KAAO,IACpC0B,KAEO,GAAPZ,GAAYA,GAAOlB,EAAUM,KAAO,IACpCwB,IAEGA,EAEX,QAASH,GAAYV,EAAKC,EAAKhB,EAAOK,GAGlC,GAAIwB,IAAiBd,IAAKA,EAAKC,IAAKA,GAChCc,KACAC,GAAiBC,iBAAmBC,qBAAsBb,QAAQC,KAAKrB,GAE3E,IADA8B,EAAWI,KAAKH,GACZ/B,EAAMe,GAAKC,GAAKV,aAAeqB,EAAaZ,EAAKC,GAAM,CAEvD,GAAImB,IAAYN,aAAcA,EAAcC,WAAYA,GACpDM,GAAqB5B,MAAO2B,EAASnC,MAAOA,EAChD,OAAOoC,GAKX,IAHA,GAAIC,IAAsBR,GACtBS,KACAC,GAAcP,iBAAmBC,qBAAsBjC,GACpDqC,EAAmBG,OAAS,GAAG,CAGlC,GAAIC,GAAWrB,QAAQC,KAAKgB,EAAmB,GAC/CA,GAAmBK,OAAO,EAAG,GAU7B1C,EAAMyC,EAAS1B,KAAK0B,EAASzB,KAAKV,aAAeN,EAAMyC,EAAS1B,KAAK0B,EAASzB,KAAKV,aAAeqB,EAAac,EAAS1B,IAAK0B,EAASzB,KAC/E,IAAnDhB,EAAMyC,EAAS1B,KAAK0B,EAASzB,KAAKV,eAClCN,EAAMyC,EAAS1B,KAAK0B,EAASzB,KAAKX,SAAW,GAOjD,KAGI,GAFAL,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKX,SAAWA,EACjDL,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKV,eAClCN,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKV,eAAiBqB,EAAac,EAAS1B,IAAM,EAAG0B,EAASzB,KAAM,CACrG,GAAI2B,IAAY5B,IAAK0B,EAAS1B,IAAM,EAAGC,IAAKyB,EAASzB,IACrDsB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA5C,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKX,SAAWA,EACjDL,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKV,eAClCN,EAAMyC,EAAS1B,IAAM,GAAG0B,EAASzB,KAAKV,eAAiBqB,EAAac,EAAS1B,IAAM,EAAG0B,EAASzB,KAAM,CACrG,GAAI2B,IAAY5B,IAAK0B,EAAS1B,IAAM,EAAGC,IAAKyB,EAASzB,IACrDsB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA5C,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGX,SAAWA,EACjDL,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGV,eAClCN,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGV,eAAiBqB,EAAac,EAAS1B,IAAK0B,EAASzB,IAAM,GAAI,CACrG,GAAI2B,IAAY5B,IAAK0B,EAAS1B,IAAKC,IAAKyB,EAASzB,IAAM,EACvDsB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA5C,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGX,SAAWA,EACjDL,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGV,eAClCN,EAAMyC,EAAS1B,KAAK0B,EAASzB,IAAM,GAAGV,eAAiBqB,EAAac,EAAS1B,IAAK0B,EAASzB,IAAM,GAAI,CACrG,GAAI2B,IAAY5B,IAAK0B,EAAS1B,IAAKC,IAAKyB,EAASzB,IAAM,EACvDsB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAOP,GALAL,EAAUP,cAAcE,KAAKO,GAG7BF,EAAUN,qBAAuBb,QAAQC,KAAKrB,GAE1CW,EAAUN,EAAUL,GAAQ,CAC5B8B,EAAWI,KAAKK,EAChB,IAAIM,IAAYhB,aAAcA,EAAcC,WAAYA,GACpDgB,GAAqBtC,MAAOqC,EAAS7C,MAAOA,EAChD,OAAO8C,GAIsB,GAA7BT,EAAmBG,SAEnBH,EAAqBjB,QAAQC,KAAKiB,GAClCA,KACAR,EAAWI,KAAKd,QAAQC,KAAKkB,IAE7BA,EAAUP,iBACVO,EAAUN,qBAAuBb,QAAQC,KAAKrB,IAMtD,GAAIQ,IAAUqB,aAAcA,EAAcC,WAAYA,GAIlDN,GAAmBhB,MAAOA,EAAOR,MAAOA,EAC5C,OAAOwB,GAEX,QAASuB,GAAYC,GAGjB,GAAI/B,GAAsB+B,EAAgB/B,oBACtCH,EAAkBkC,EAAgBlC,gBAClCmC,EAAOD,EAAgBC,KACvBC,EAAaF,EAAgBC,KAAKzB,eAAehB,MACjDO,EAAMmC,EAAWrB,aAAad,IAC9BC,EAAMkC,EAAWrB,aAAab,IAC9BmC,EAAetC,EAAWC,EAAiBC,EAAKC,EAAKC,EACzD,KAAKG,QAAQgC,OAAOH,EAAME,GACtB,KAAM,IAAIjC,OAAM,iBAAmBE,QAAQiC,OAAOF,GAAc,GAC5D,6BAA+B/B,QAAQiC,OAAOL,GAAiB,IAI3E,QAASM,KACL,GAAIL,GAAOnD,EAAUe,WAAW,KAAM,EAAG,EAAG,GAExC0C,GACAtC,oBAAqB,EACrBH,gBAAiB,KACjBmC,KAAMA,EACNO,gBAAiB,EACrB1D,GAAUiD,YAAYQ,GAzP1BzD,EAAUI,KAAO,EACjBJ,EAAUM,KAAO,EAejBN,EAAUS,gBAAkBA,EAsF5BT,EAAUe,WAAaA,EA0IvBf,EAAUiD,YAAcA,EAWxBjD,EAAUwD,kBAAoBA,GAC/BxD,YAAcA,cAIjB,IAAI2D,OACJ,SAAWA,GAYP,QAASC,KACLC,UAAUC,gBAAgBC,KAC1BF,UAAUG,YAAY,MACtBC,IAAIA,IAAI,8CAAgDJ,UAAU,2BAClEK,sBAAsBC,iBAAiB,KACvCC,YAAYC,SACRC,mBAAoB,EACpBC,mBAAoB,EACpBtB,YAAajD,UAAUiD,YACvBuB,SAAUA,IAGdC,SAASC,iBAAiB,eAAgBC,GAAwB,GAClEF,SAASC,iBAAiB,qBAAsBC,GAAwB,GACxEF,SAASC,iBAAiB,gBAAiBC,GAAwB,EACnE,IAAIC,GAAIC,MACJD,GAAiB,eACjBE,YAAY,WACRF,EAAiB,cAAEG,SACfC,cAAe,iBAAkB,uBAEtC,KAIX,QAASjB,KACL,OACIkB,wBACIC,GAAI,0BACJC,GAAI,4BAERC,6BACIF,GAAI,wGACJC,GAAI,yHAERE,6BACIH,GAAI,iIACJC,GAAI,4JAERG,6BACIJ,GAAI,iJACJC,GAAI,mJAERI,6BACIL,GAAI,uEACJC,GAAI,qEAERK,OACIN,GAAI,QACJC,GAAI,WAIhB,QAASR,KACLc,WAAWC,OAAO,WACdzB,IAAI0B,KAAK,mBACThC,EAAKiC,gBAAiB,IAI9B,QAASC,KACL5B,IAAI0B,KAAK,mBAAoBhC,EAAKmC,gBAC7BnC,EAAKmC,iBAGVnC,EAAKmC,gBAAiB,EACtB1B,YAAY2B,SAASC,UAAUC,iBAAiBtC,EAAKR,QAKzD,QAASqB,GAASf,GACdQ,IAAI0B,KAAK,qBAAsBlC,GAC/BE,EAAKiC,gBAAiB,EACtBjC,EAAKR,KAAOM,EAAON,KACnBQ,EAAKuC,MAAQvC,EAAKR,KAAKzB,eACvByE,IACKxC,EAAKuC,MAKNE,EAAWzC,EAAKuC,MAAMxF,MAAMsB,WAAWU,OAAS,GAJhDiB,EAAKuC,MAAQlG,UAAUS,kBACvB2F,EAAW,GAKfzC,EAAK0C,YAAc1C,EAAKR,KAAK1B,oBAAsB,GAC/CgC,EAAO6C,kBAAoB3C,EAAKR,KAAK1B,mBAEzCkC,EAAKmC,eAAiBnC,EAAK0C,aACiC,KAAxD5C,EAAO8C,YAAY9C,EAAO6C,iBAAiB/F,SAC/C0D,IAAI0B,KAAK,WAAYhC,EAAKmC,gBACtBnC,EAAKmC,iBAELnC,EAAK0C,aAAc,EAInBpC,IAAI0B,KAAK,0BAA2BhC,EAAKuC,MAAMxF,QAcnDiD,EAAK6C,MAAQ,EACbC,EAAiBC,UAAUC,EAAsB,KAErD,QAASR,KACLlC,IAAI0B,KAAK,0BACLc,IACAC,UAAUE,OAAOH,GACjBA,EAAiB,MAGzB,QAASE,KACDhD,EAAK6C,MAAQJ,IAEjBnC,IAAI0B,KAAK,iBAAkBhC,EAAK6C,OAChC7C,EAAK6C,QACLvC,IAAI0B,KAAK,gBAAiBhC,EAAK6C,OAC/BvC,IAAI0B,KAAK,cAAeS,GACpBzC,EAAK6C,MAAQJ,IACbD,IACIxC,EAAKmC,gBACLD,MAIZ,QAASgB,GAAY5F,EAAKC,GAEtB,GADA+C,IAAI0B,KAAK,mBAAoB1E,EAAKC,GACH,oBAA3B2D,OAAOiC,SAASC,OAChB,KAAM,IAAI3F,OAAM,uDAEpB,IAAKuC,EAAK0C,YAGV,IACI,GAAIW,GAAWhH,UAAUe,WAAW4C,EAAKuC,MAAOjF,EAAKC,EAAKyC,EAAKR,KAAK1B,mBACpEkC,GAAK0C,aAAc,EACnBjC,YAAY2B,SAASiB,GAEzB,MAAOC,GAEH,WADAhD,KAAI0B,MAAM,oCAAqC1E,EAAKC,KAK5D,QAASgG,GAAgBjG,EAAKC,EAAKsF,GAG/B,IAEI,MAAsF,KAA/E7C,EAAKuC,MAAMxF,MAAMsB,WAAWwE,GAAOrE,qBAAqBlB,GAAKC,GAAKX,SAE7E,MAAO0G,GAEH,GAAInG,GAAO6C,EAAKuC,MAAMhG,MAAMe,GAAKC,EACjC,OAAyB,KAAlBJ,EAAKP,UAKpB,QAAS4G,GAAoBlG,EAAKC,EAAKsF,EAAOjG,EAAU6G,GACpD,IACI,GAAIzE,GAAWgB,EAAKuC,MAAMxF,MAAMsB,WAAWwE,GAAOrE,qBAAqBlB,GAAKC,EAC5E,OAAOyB,GAASpC,WAAaA,GAAYoC,EAASnC,eAAiB4G,EAEvE,MAAOH,GACH,MAAOtD,GAAKuC,MAAMhG,MAAMe,GAAKC,GAAKX,WAAaA,GAAYoD,EAAKuC,MAAMhG,MAAMe,GAAKC,GAAKV,cAAgB4G,GAI9G,QAASvF,GAAaZ,EAAKC,GACvB,GAAIY,GAAS,CAOb,QANW,GAAPb,GAAYA,GAAO0C,EAAKvD,KAAO,IAC/B0B,KAEO,GAAPZ,GAAYA,GAAOyC,EAAKrD,KAAO,IAC/BwB,IAEGA,EAGX,QAASuF,GAAepG,EAAKC,GACzB,IACI,MAASD,IAAO0C,EAAKuC,MAAMxF,MAAMqB,aAAad,KAASC,GAAOyC,EAAKuC,MAAMxF,MAAMqB,aAAab,IAEhG,MAAO+F,GACH,OAAO,GAaf,QAASK,GAAmBrG,EAAKC,EAAKsF,GAMlC,OAAO,EAGX,QAASe,GAASC,EAAOvG,EAAKC,GAE1B,IAAK,GAAIf,GAAI,EAAGA,EAAIqH,EAAM9E,OAAQvC,IAC9B,GAAIqH,EAAMrH,GAAGc,MAAQA,GAAOuG,EAAMrH,GAAGe,MAAQA,EAGzC,OAAO,CAIf,QAAO,EAEX,QAASuG,GAAcxG,EAAKC,EAAKsF,GAW7B,IACI,OAAQ7C,EAAKiC,gBAAkB2B,EAAS5D,EAAKuC,MAAMxF,MAAMsB,WAAWwE,EAAQ,GAAGtE,cAAejB,EAAKC,GAEvG,MAAO+F,GACH,OAAO,GAIf,QAASS,GAAuBzG,EAAKC,EAAKsF,EAAOjG,GAC7C,IACI,OAAQoD,EAAKiC,gBAAkB2B,EAAS5D,EAAKuC,MAAMxF,MAAMsB,WAAWwE,EAAQ,GAAGtE,cAAejB,EAAKC,IAC9FyC,EAAKuC,MAAMxF,MAAMsB,WAAWwE,GAAOrE,qBAAqBlB,GAAKC,GAAKX,WAAaA,EAExF,MAAO0G,GACH,OAAO,GAIf,QAASU,GAA8B1G,EAAKC,EAAKsF,EAAOjG,GACpD,IACI,MAAOoD,GAAKuC,MAAMxF,MAAMsB,WAAWwE,EAAQ,GAAGrE,qBAAqBlB,GAAKC,GAAKV,aAAe,GACpFmD,EAAKuC,MAAMxF,MAAMsB,WAAWwE,GAAOrE,qBAAqBlB,GAAKC,GAAKX,WAAaA,EAE3F,MAAO0G,GACH,OAAO,GAIf,QAASW,GAAeC,GAMpB,MALIA,GAAIC,SAAWD,EAAIE,gBACnBF,EAAIG,iBACJH,EAAII,kBACJtE,EAAKuE,kBAAmB,IAErB,EAzRXvE,EAAKiC,gBAAiB,EACtBjC,EAAK0C,aAAc,EACnB1C,EAAKmC,gBAAiB,EACtBnC,EAAKR,KAAO,KACZQ,EAAKuC,MAAQ,KACbvC,EAAKuE,kBAAmB,EACxBvE,EAAKvD,KAAO,EACZuD,EAAKrD,KAAO,EAyBZqD,EAAKC,KAAOA,EA4CZD,EAAK6C,MAAQ,CACb,IAAIC,GAAiB,KACjBL,EAAW,EAkFfzC,GAAKkD,YAAcA,EAenBlD,EAAKuD,gBAAkBA,EAUvBvD,EAAKwD,oBAAsBA,EAW3BxD,EAAK9B,aAAeA,EASpB8B,EAAK0D,eAAiBA,EAkBtB1D,EAAK2D,mBAAqBA,EA+B1B3D,EAAK8D,cAAgBA,EAUrB9D,EAAK+D,uBAAyBA,EAU9B/D,EAAKgE,8BAAgCA,EASrChE,EAAKiE,eAAiBA,GACvBjE,OAASA,UACZrC,QAAQ6G,OAAO,SAAU,UAAW,eAAgB,iBAC/CC,IAAI,WACL3C,WAAiB,KAAI9B,KACrBA,KAAKC,QAIT,IAAIoC,YACJ,SAAWA,GAEP,QAASC,GAAiB9C,GACtB,MAAOkF,GAAmBlF,GAsB9B,QAASmF,GAAMpI,EAAOe,EAAKC,EAAKqH,GAC5B,GAAIpF,EACJ,KACIA,EAAOnD,UAAUe,WAAWwH,EAAS7G,eAAgBT,EAAKC,EAAKqH,EAAS9G,oBAE5E,MAAOwF,GACH,MAAO,KAIX,IAAK,GAFDuB,GAAWrF,EAAKzB,eAAexB,MAC/BuI,EAAgB,EACXtI,EAAI,EAAGA,EAAIH,UAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,UAAUM,KAAMD,IACD,IAA3BmI,EAASrI,GAAGE,GAAGE,UAAkBiI,EAASrI,GAAGE,GAAGE,UAAYgI,EAAS9G,oBACrEgH,GAIZ,OAAOA,GAQX,QAASJ,GAAmBE,GAOxB,IAAK,GALDG,GAAYH,EAAS7G,eAAexB,MACpCyI,KAGAC,EAAY,IACPzI,EAAI,EAAGA,EAAIH,UAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,UAAUM,KAAMD,IAAK,CACrC,GAAIwI,GAAYP,EAAMI,EAAWvI,EAAGE,EAAGkI,EAOvC,IANgBK,EAAZC,IAGAD,EAAYC,EACZF,MAEAE,IAAcD,EAAW,CACzB,GAAI/F,IAAY5B,IAAKd,EAAGe,IAAKb,EAC7BsI,GAAUvG,KAAKS,IAI3B,GAAIiG,GAAkBH,EAAUjG,OAC5BqG,EAAQC,EAAa,EAAGF,EAC5B,OAAO9I,WAAUe,WAAWwH,EAAS7G,eAAgBiH,EAAUI,GAAO9H,IAAK0H,EAAUI,GAAO7H,IAAKqH,EAAS9G,oBAG9G,QAASuH,GAAaC,EAAKC,GACvB,MAAOC,MAAKC,MAAMD,KAAKE,UAAYH,EAAMD,IAAQA,EAzErDjD,EAAUC,iBAAmBA,EAuE7BD,EAAUqC,mBAAqBA,GAIhCrC,YAAcA","file":"everything.min.js"}