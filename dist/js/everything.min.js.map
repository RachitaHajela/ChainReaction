{"version":3,"sources":["everything.js"],"names":["gameLogic","getInitialBoard","board","i","ROWS","j","COLS","playerId","numMolecules","getInitialState","delta","isTie","getWinner","playerWon","cell","createMove","stateBeforeMove","row","col","turnIndexBeforeMove","Error","boardAfterMove","angular","copy","stateAfterMove","updateBoard","log","currMoveCell","explosions","endMatchScores","turnIndexAfterMove","winner","maxMolecules","maxMol","initialState","cellsExploded","boardAfterExplosions","push","delta_1","stateAfterMove_1","explosionQueueCurr","explosionQueueNext","explosion","length","currCell","splice","newCell","err","delta_2","stateAfterMove_2","checkMoveOk","stateTransition","move","deltaValue","expectedMove","equals","toJson","forSimpleTestHtml","params","numberOfPlayers","game","init","translate","setTranslations","getTranslations","setLanguage","resizeGameAreaService","setWidthToHeight","moveService","setGame","minNumberOfPlayers","maxNumberOfPlayers","updateUI","document","addEventListener","animationEndedCallback","w","window","setInterval","inspect","excludeRules","RULES_OF_CHAINREACTION","en","iw","RULES_SLIDE1","RULES_SLIDE2","RULES_SLIDE3","CLOSE","$rootScope","$apply","info","animationEnded","sendComputerMove","isComputerTurn","makeMove","aiService","findComputerMove","state","maxRound","canMakeMove","yourPlayerIndex","playersInfo","intervalFuture","$interval","cancel","round","cellClicked","location","search","nextMove","e","shouldShowImage","containsMolOfPlayer","numMol","shouldSlowlyAppear","contains","cells","shouldAnimate","shouldAnimateForPlayer","moleculesMoreThanMaxMolecules","clickedOnModal","evt","target","currentTarget","preventDefault","stopPropagation","isHelpModalShown","module","run","createComputerMove","score","prevMove","newBoard","opponentCells","currBoard","bestRow","bestCol","bestScore","currScore"],"mappings":"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","file":"everything.min.js"}