{"version":3,"sources":["everything.js"],"names":["gameLogic","getInitialBoard","board","i","ROWS","j","COLS","playerId","numMolecules","getInitialState","delta","isTie","getWinner","playerWon","cell","createMove","stateBeforeMove","row","col","turnIndexBeforeMove","Error","boardAfterMove","angular","copy","stateAfterMove","updateBoard","log","currMoveCell","explosions","endMatchScores","turnIndexAfterMove","winner","maxMolecules","maxMol","initialState","cellsExploded","boardAfterExplosions","push","delta_1","stateAfterMove_1","explosionQueueCurr","explosionQueueNext","explosion","length","currCell","splice","newCell","err","delta_2","stateAfterMove_2","checkMoveOk","stateTransition","move","deltaValue","expectedMove","equals","toJson","forSimpleTestHtml","params","numberOfPlayers","game","init","translate","setTranslations","getTranslations","setLanguage","resizeGameAreaService","setWidthToHeight","moveService","setGame","minNumberOfPlayers","maxNumberOfPlayers","updateUI","document","addEventListener","animationEndedCallback","w","window","setInterval","inspect","excludeRules","RULES_OF_CHAINREACTION","en","fr","RULES_SLIDE1","RULES_SLIDE2","RULES_SLIDE3","RULES_SLIDE4","CLOSE","$rootScope","$apply","info","animationEnded","sendComputerMove","isComputerTurn","makeMove","aiService","findComputerMove","state","maxRound","canMakeMove","yourPlayerIndex","playersInfo","intervalFuture","$interval","cancel","round","cellClicked","location","search","nextMove","e","shouldShowImage","containsMolOfPlayer","numMol","shouldSlowlyAppear","contains","cells","shouldAnimate","shouldAnimateForPlayer","moleculesMoreThanMaxMolecules","clickedOnModal","evt","target","currentTarget","preventDefault","stopPropagation","isHelpModalShown","module","run","createComputerMove","score","prevMove","newBoard","opponentCells","currBoard","bestRow","bestCol","bestScore","currScore"],"mappings":"AAAA,GAAIA,YACJ,SAAWA,GAIP,QAASC,KAEL,IAAK,GADDC,MACKC,EAAI,EAAGA,EAAIH,EAAUI,KAAMD,IAAK,CACrCD,EAAMC,KACN,KAAK,GAAIE,GAAI,EAAGA,EAAIL,EAAUM,KAAMD,IAChCH,EAAMC,GAAGE,IAAOE,SAAU,GAAIC,aAAc,GAGpD,MAAON,GAEX,QAASO,KACL,OAASP,MAAOD,IAAmBS,MAAO,MAU9C,QAASC,GAAMT,GACX,OAAO,EAUX,QAASU,GAAUV,GACf,MAAIW,GAAU,EAAGX,GACN,IAEFW,EAAU,EAAGX,GACX,IAGA,GAMf,QAASW,GAAUN,EAAUL,GAEzB,IAAK,GADDM,GAAe,EACVL,EAAI,EAAGA,EAAIH,EAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,EAAUM,KAAMD,IAAK,CACrC,GAAIS,GAAOZ,EAAMC,GAAGE,EAEpB,IADAG,GAAgBM,EAAKN,aACK,IAAtBM,EAAKN,cAAsBM,EAAKP,WAAaA,EAC7C,OAAO,EAInB,MAAmB,GAAfC,GACO,GAEJ,EAMX,QAASO,GAAWC,EAAiBC,EAAKC,EAAKC,GACtCH,IACDA,EAAkBP,IAEtB,IAAIP,GAAQc,EAAgBd,KAC5B,IAAIA,EAAMe,GAAKC,GAAKX,WAAaY,GAAoD,KAA7BjB,EAAMe,GAAKC,GAAKX,SACpE,KAAM,IAAIa,OAAM,kEAEpB,IAAyB,KAArBR,EAAUV,IAAiBS,EAAMT,GACjC,KAAM,IAAIkB,OAAM,gDAEpB,IAAIC,GAAiBC,QAAQC,KAAKrB,EAElCmB,GAAeJ,GAAKC,GAAKX,SAAWY,EACpCE,EAAeJ,GAAKC,GAAKV,cACzB,IAAIgB,GAAiBC,EAAYR,EAAKC,EAAKG,EAAgBF,EAC3DO,KAAIA,IAAIF,EAAed,MAAMiB,cAC7BD,IAAIA,IAAIF,EAAed,MAAMkB,WAAW,GACxC,IACIC,GACAC,EAFAC,EAASnB,EAAUS,EAavB,OAVe,KAAXU,GAAiBpB,EAAMU,IAEvBS,EAAqB,GACrBD,EAA4B,MAAXE,GAAkB,EAAG,GAAgB,MAAXA,GAAkB,EAAG,IAAM,EAAG,KAIzED,EAAqB,EAAIX,EACzBU,EAAiB,OAEZA,eAAgBA,EAAgBC,mBAAoBA,EAAoBN,eAAgBA,GAGrG,QAASQ,GAAaf,EAAKC,GACvB,GAAIe,GAAS,CAOb,QANW,GAAPhB,GAAYA,GAAOjB,EAAUI,KAAO,IACpC6B,KAEO,GAAPf,GAAYA,GAAOlB,EAAUM,KAAO,IACpC2B,IAEGA,EAEX,QAASR,GAAYR,EAAKC,EAAKhB,EAAOK,GAGlC,GAAIoB,IAAiBV,IAAKA,EAAKC,IAAKA,GAChCU,KACAM,GAAiBC,iBAAmBC,qBAAsBd,QAAQC,KAAKrB,GAE3E,IADA0B,EAAWS,KAAKH,GACZhC,EAAMe,GAAKC,GAAKV,aAAewB,EAAaf,EAAKC,GAAM,CAEvD,GAAIoB,IAAYX,aAAcA,EAAcC,WAAYA,GACpDW,GAAqB7B,MAAO4B,EAASpC,MAAOA,EAChD,OAAOqC,GAKX,IAHA,GAAIC,IAAsBb,GACtBc,KACAC,GAAcP,iBAAmBC,qBAAsBlC,GACpDsC,EAAmBG,OAAS,GAAG,CAGlC,GAAIC,GAAWtB,QAAQC,KAAKiB,EAAmB,GAC/CA,GAAmBK,OAAO,EAAG,GAU7B3C,EAAM0C,EAAS3B,KAAK2B,EAAS1B,KAAKV,aAAeN,EAAM0C,EAAS3B,KAAK2B,EAAS1B,KAAKV,aAAewB,EAAaY,EAAS3B,IAAK2B,EAAS1B,KAC/E,IAAnDhB,EAAM0C,EAAS3B,KAAK2B,EAAS1B,KAAKV,eAClCN,EAAM0C,EAAS3B,KAAK2B,EAAS1B,KAAKX,SAAW,GAOjD,KAGI,GAFAL,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKX,SAAWA,EACjDL,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKV,eAClCN,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKV,eAAiBwB,EAAaY,EAAS3B,IAAM,EAAG2B,EAAS1B,KAAM,CACrG,GAAI4B,IAAY7B,IAAK2B,EAAS3B,IAAM,EAAGC,IAAK0B,EAAS1B,IACrDuB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA7C,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKX,SAAWA,EACjDL,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKV,eAClCN,EAAM0C,EAAS3B,IAAM,GAAG2B,EAAS1B,KAAKV,eAAiBwB,EAAaY,EAAS3B,IAAM,EAAG2B,EAAS1B,KAAM,CACrG,GAAI4B,IAAY7B,IAAK2B,EAAS3B,IAAM,EAAGC,IAAK0B,EAAS1B,IACrDuB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA7C,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGX,SAAWA,EACjDL,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGV,eAClCN,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGV,eAAiBwB,EAAaY,EAAS3B,IAAK2B,EAAS1B,IAAM,GAAI,CACrG,GAAI4B,IAAY7B,IAAK2B,EAAS3B,IAAKC,IAAK0B,EAAS1B,IAAM,EACvDuB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAEP,IAGI,GAFA7C,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGX,SAAWA,EACjDL,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGV,eAClCN,EAAM0C,EAAS3B,KAAK2B,EAAS1B,IAAM,GAAGV,eAAiBwB,EAAaY,EAAS3B,IAAK2B,EAAS1B,IAAM,GAAI,CACrG,GAAI4B,IAAY7B,IAAK2B,EAAS3B,IAAKC,IAAK0B,EAAS1B,IAAM,EACvDuB,GAAmBJ,KAAKS,IAGhC,MAAOC,IAOP,GALAL,EAAUP,cAAcE,KAAKO,GAG7BF,EAAUN,qBAAuBd,QAAQC,KAAKrB,GAE1CW,EAAUN,EAAUL,GAAQ,CAC5B0B,EAAWS,KAAKK,EAChB,IAAIM,IAAYrB,aAAcA,EAAcC,WAAYA,GACpDqB,GAAqBvC,MAAOsC,EAAS9C,MAAOA,EAChD,OAAO+C,GAIsB,GAA7BT,EAAmBG,SAEnBH,EAAqBlB,QAAQC,KAAKkB,GAClCA,KACAb,EAAWS,KAAKf,QAAQC,KAAKmB,IAE7BA,EAAUP,iBACVO,EAAUN,qBAAuBd,QAAQC,KAAKrB,IAMtD,GAAIQ,IAAUiB,aAAcA,EAAcC,WAAYA,EACtDF,KAAIA,IAAI,SACRA,IAAIA,IAAIhB,EAER,IAAIc,IAAmBd,MAAOA,EAAOR,MAAOA,EAC5C,OAAOsB,GAEX,QAAS0B,GAAYC,GAGjB,GAAIhC,GAAsBgC,EAAgBhC,oBACtCH,EAAkBmC,EAAgBnC,gBAClCoC,EAAOD,EAAgBC,KACvBC,EAAaF,EAAgBC,KAAK5B,eAAed,MACjDO,EAAMoC,EAAW1B,aAAaV,IAC9BC,EAAMmC,EAAW1B,aAAaT,IAC9BoC,EAAevC,EAAWC,EAAiBC,EAAKC,EAAKC,EACzD,KAAKG,QAAQiC,OAAOH,EAAME,GACtB,KAAM,IAAIlC,OAAM,iBAAmBE,QAAQkC,OAAOF,GAAc,GAC5D,6BAA+BhC,QAAQkC,OAAOL,GAAiB,IAI3E,QAASM,KACL,GAAIL,GAAOpD,EAAUe,WAAW,KAAM,EAAG,EAAG,EAC5CW,KAAIA,IAAI,QAAS0B,EACjB,IAAIM,IACAvC,oBAAqB,EACrBH,gBAAiB,KACjBoC,KAAMA,EACNO,gBAAiB,EACrB3D,GAAUkD,YAAYQ,GAzP1B1D,EAAUI,KAAO,EACjBJ,EAAUM,KAAO,EAejBN,EAAUS,gBAAkBA,EAsF5BT,EAAUe,WAAaA,EA0IvBf,EAAUkD,YAAcA,EAWxBlD,EAAUyD,kBAAoBA,GAC/BzD,YAAcA,cAIjB,IAAI4D,OACJ,SAAWA,GAYP,QAASC,KACLC,UAAUC,gBAAgBC,KAC1BF,UAAUG,YAAY,MACtBvC,IAAIA,IAAI,8CAAgDoC,UAAU,2BAClEI,sBAAsBC,iBAAiB,KACvCC,YAAYC,SACRC,mBAAoB,EACpBC,mBAAoB,EACpBrB,YAAalD,UAAUkD,YACvBsB,SAAUA,IAGdC,SAASC,iBAAiB,eAAgBC,GAAwB,GAClEF,SAASC,iBAAiB,qBAAsBC,GAAwB,GACxEF,SAASC,iBAAiB,gBAAiBC,GAAwB,EACnE,IAAIC,GAAIC,MACJD,GAAiB,eACjBE,YAAY,WACRF,EAAiB,cAAEG,SACfC,cAAe,iBAAkB,uBAEtC,KAIX,QAAShB,KACL,OACIiB,wBACIC,GAAI,0BACJC,GAAI,4BAERC,cACIF,GAAI,wGACJC,GAAI,yHAERE,cACIH,GAAI,iIACJC,GAAI,4JAERG,cACIJ,GAAI,iJACJC,GAAI,mJAERI,cACIL,GAAI,uEACJC,GAAI,qEAERK,OACIN,GAAI,QACJC,GAAI,WAIhB,QAASR,KACLc,WAAWC,OAAO,WACdhE,IAAIiE,KAAK,mBACT/B,EAAKgC,gBAAiB,EACtBC,MAGR,QAASA,KACAjC,EAAKkC,iBAGVlC,EAAKkC,gBAAiB,EACtB1B,YAAY2B,SAASC,UAAUC,iBAAiBrC,EAAKR,QAKzD,QAASoB,GAASd,GACdhC,IAAIiE,KAAK,qBAAsBjC,GAC/BE,EAAKgC,gBAAiB,EACtBhC,EAAKR,KAAOM,EAAON,KACnBQ,EAAKsC,MAAQtC,EAAKR,KAAK5B,eAClBoC,EAAKsC,MAKNC,EAAWvC,EAAKsC,MAAMxF,MAAMkB,WAAWe,OAAS,GAJhDiB,EAAKsC,MAAQlG,UAAUS,kBACvB0F,EAAW,GAKfvC,EAAKwC,YAAcxC,EAAKR,KAAKtB,oBAAsB,GAC/C4B,EAAO2C,kBAAoBzC,EAAKR,KAAKtB,mBAEzC8B,EAAKkC,eAAiBlC,EAAKwC,aACiC,KAAxD1C,EAAO4C,YAAY5C,EAAO2C,iBAAiB9F,SAC3CqD,EAAKkC,iBAELlC,EAAKwC,aAAc,EAIdxC,EAAKsC,MAAMxF,OAIZmF,KAGJU,GACAC,UAAUC,OAAOF,GAErB3C,EAAK8C,MAAQ,EACbH,EAAiBC,UAAU,WACvB5C,EAAK8C,QACD9C,EAAK8C,OAASP,GACdK,UAAUC,OAAOF,IAEtB,KAEP,QAASI,GAAY1F,EAAKC,GAEtB,GADAQ,IAAIiE,KAAK,mBAAoB1E,EAAKC,GACH,oBAA3B2D,OAAO+B,SAASC,OAChB,KAAM,IAAIzF,OAAM,uDAEpB,IAAKwC,EAAKwC,YAGV,IACI,GAAIU,GAAW9G,UAAUe,WAAW6C,EAAKsC,MAAOjF,EAAKC,EAAK0C,EAAKR,KAAKtB,mBACpE8B,GAAKwC,aAAc,EACnBhC,YAAY2B,SAASe,GAEzB,MAAOC,GAEH,WADArF,KAAIiE,MAAM,oCAAqC1E,EAAKC,KAK5D,QAAS8F,GAAgB/F,EAAKC,EAAKwF,GAG/B,IAEI,MAAsF,KAA/E9C,EAAKsC,MAAMxF,MAAMkB,WAAW8E,GAAOtE,qBAAqBnB,GAAKC,GAAKX,SAE7E,MAAOwG,GAEH,GAAIjG,GAAO8C,EAAKsC,MAAMhG,MAAMe,GAAKC,EACjC,OAAyB,KAAlBJ,EAAKP,UAKpB,QAAS0G,GAAoBhG,EAAKC,EAAKwF,EAAOnG,EAAU2G,GACpD,IACI,GAAItE,GAAWgB,EAAKsC,MAAMxF,MAAMkB,WAAW8E,GAAOtE,qBAAqBnB,GAAKC,EAC5E,OAAO0B,GAASrC,WAAaA,GAAYqC,EAASpC,eAAiB0G,EAEvE,MAAOH,GACH,MAAOnD,GAAKsC,MAAMhG,MAAMe,GAAKC,GAAKX,WAAaA,GAAYqD,EAAKsC,MAAMhG,MAAMe,GAAKC,GAAKV,cAAgB0G,GAI9G,QAASlF,GAAaf,EAAKC,GACvB,GAAIe,GAAS,CAOb,QANW,GAAPhB,GAAYA,GAAO2C,EAAKxD,KAAO,IAC/B6B,KAEO,GAAPf,GAAYA,GAAO0C,EAAKtD,KAAO,IAC/B2B,IAEGA,EAYX,QAASkF,GAAmBlG,EAAKC,EAAKwF,GAMlC,OAAO,EAGX,QAASU,GAASC,EAAOpG,EAAKC,GAC1BQ,IAAIiE,KAAK,4BACT,KAAK,GAAIxF,GAAI,EAAGA,EAAIkH,EAAM1E,OAAQxC,IAC9B,GAAIkH,EAAMlH,GAAGc,MAAQA,GAAOoG,EAAMlH,GAAGe,MAAQA,EAGzC,MADAQ,KAAIiE,KAAK,SACF,CAIf,OADAjE,KAAIiE,KAAK,UACF,EAEX,QAAS2B,GAAcrG,EAAKC,EAAKwF,GAC7BhF,IAAIiE,KAAK,6DAA8D1E,EAAKC,EAAKwF,EAAO9C,EAAKsC,MAAMxF,MAAMkB,WAAWe,OAUpH,KACI,OAAQiB,EAAKgC,gBAAkBwB,EAASxD,EAAKsC,MAAMxF,MAAMkB,WAAW8E,EAAQ,GAAGvE,cAAelB,EAAKC,GAEvG,MAAO6F,GACH,OAAO,GAIf,QAASQ,GAAuBtG,EAAKC,EAAKwF,EAAOnG,GAC7C,IACI,OAAQqD,EAAKgC,gBAAkBwB,EAASxD,EAAKsC,MAAMxF,MAAMkB,WAAW8E,EAAQ,GAAGvE,cAAelB,EAAKC,IAC9F0C,EAAKsC,MAAMxF,MAAMkB,WAAW8E,GAAOtE,qBAAqBnB,GAAKC,GAAKX,WAAaA,EAExF,MAAOwG,GACH,OAAO,GAIf,QAASS,GAA8BvG,EAAKC,EAAKwF,EAAOnG,GACpD,IACI,MAAOqD,GAAKsC,MAAMxF,MAAMkB,WAAW8E,EAAQ,GAAGtE,qBAAqBnB,GAAKC,GAAKV,aAAe,GACpFoD,EAAKsC,MAAMxF,MAAMkB,WAAW8E,GAAOtE,qBAAqBnB,GAAKC,GAAKX,WAAaA,EAE3F,MAAOwG,GACH,OAAO,GAIf,QAASU,GAAeC,GAMpB,MALIA,GAAIC,SAAWD,EAAIE,gBACnBF,EAAIG,iBACJH,EAAII,kBACJlE,EAAKmE,kBAAmB,IAErB,EAzPXnE,EAAKgC,gBAAiB,EACtBhC,EAAKwC,aAAc,EACnBxC,EAAKkC,gBAAiB,EACtBlC,EAAKR,KAAO,KACZQ,EAAKsC,MAAQ,KACbtC,EAAKmE,kBAAmB,EACxBnE,EAAKxD,KAAO,EACZwD,EAAKtD,KAAO,EAyBZsD,EAAKC,KAAOA,EA2CZD,EAAK8C,MAAQ,CACb,IAAIH,GAAiB,KACjBJ,EAAW,EA4DfvC,GAAK+C,YAAcA,EAenB/C,EAAKoD,gBAAkBA,EAUvBpD,EAAKqD,oBAAsBA,EAW3BrD,EAAK5B,aAAeA,EAkBpB4B,EAAKuD,mBAAqBA,EA+B1BvD,EAAK0D,cAAgBA,EAUrB1D,EAAK2D,uBAAyBA,EAU9B3D,EAAK4D,8BAAgCA,EASrC5D,EAAK6D,eAAiBA,GACvB7D,OAASA,UACZtC,QAAQ0G,OAAO,SAAU,UAAW,eAAgB,iBAC/CC,IAAI,WACLxC,WAAiB,KAAI7B,KACrBA,KAAKC,QAIT,IAAImC,YACJ,SAAWA,GAEP,QAASC,GAAiB7C,GACtB,MAAO8E,GAAmB9E,GAsB9B,QAAS+E,GAAMjI,EAAOe,EAAKC,EAAKkH,GAC5B,GAAIhF,EACJ,KACIA,EAAOpD,UAAUe,WAAWqH,EAAS5G,eAAgBP,EAAKC,EAAKkH,EAAStG,oBAE5E,MAAOiF,GACH,MAAO,IAIX,IAAK,GAFDsB,GAAWjF,EAAK5B,eAAetB,MAC/BoI,EAAgB,EACXnI,EAAI,EAAGA,EAAIH,UAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,UAAUM,KAAMD,IACD,IAA3BgI,EAASlI,GAAGE,GAAGE,UAAkB8H,EAASlI,GAAGE,GAAGE,UAAY6H,EAAStG,oBACrEwG,GAIZ,OAAOA,GAQX,QAASJ,GAAmBE,GAMxB,IAAK,GAJDG,GAAYH,EAAS5G,eAAetB,MACpCsI,EAAU,GACVC,EAAU,GACVC,EAAY,GACPvI,EAAI,EAAGA,EAAIH,UAAUI,KAAMD,IAChC,IAAK,GAAIE,GAAI,EAAGA,EAAIL,UAAUM,KAAMD,IAAK,CACrC,GAAIsI,GAAYR,EAAMI,EAAWpI,EAAGE,EAAG+H,EACvBM,GAAZC,IACAH,EAAUrI,EACVsI,EAAUpI,EACVqI,EAAYC,GAIxB,MAAO3I,WAAUe,WAAWqH,EAAS5G,eAAgBgH,EAASC,EAASL,EAAStG,oBA7DpFkE,EAAUC,iBAAmBA,EA+D7BD,EAAUkC,mBAAqBA,GAChClC,YAAcA","file":"everything.min.js"}